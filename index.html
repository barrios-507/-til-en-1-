<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>√ötil en 1</title>
<style>
  * { box-sizing: border-box; }
  body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); margin: 0; padding: 0; min-height: 100vh; }
  
  .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
  
  header { background: rgba(255,255,255,0.95); padding: 30px; color: #333; text-align: center; border-radius: 15px; margin-bottom: 30px; backdrop-filter: blur(10px); box-shadow: 0 8px 32px rgba(0,0,0,0.1); }
  
  header h1 { margin: 0; font-size: 2.5em; background: linear-gradient(45deg, #007bff, #6610f2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
  
  header p { margin: 10px 0 0 0; font-size: 1.2em; color: #666; }
  
  .section-card { margin: 20px 0; padding: 25px; background: rgba(255,255,255,0.95); border-radius: 15px; backdrop-filter: blur(10px); box-shadow: 0 8px 32px rgba(0,0,0,0.1); transition: transform 0.3s ease; }
  
  .section-card:hover { transform: translateY(-5px); }
  
  h2 { margin-top: 0; color: #333; font-size: 1.8em; border-bottom: 3px solid #007bff; padding-bottom: 10px; }
  
  .form-group { margin-bottom: 20px; }
  
  label { display: block; margin-bottom: 8px; font-weight: 600; color: #555; }
  
  input[type=text], textarea, input[type=file], select { width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; transition: border-color 0.3s ease; }
  
  input[type=text]:focus, textarea:focus, select:focus { outline: none; border-color: #007bff; box-shadow: 0 0 0 3px rgba(0,123,255,0.1); }
  
  button { padding: 12px 24px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; transition: all 0.3s ease; font-weight: 600; }
  
  .btn-primary { background: linear-gradient(45deg, #007bff, #0056b3); color: white; }
  .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,123,255,0.3); }
  
  .btn-secondary { background: #6c757d; color: white; }
  .btn-secondary:hover { background: #545b62; }
  
  .btn-danger { background: #dc3545; color: white; }
  .btn-danger:hover { background: #c82333; }
  
  #chat { border: 2px solid #e0e0e0; padding: 15px; max-height: 300px; overflow-y: auto; border-radius: 8px; background: #f8f9fa; margin-bottom: 15px; }
  
  .message { margin: 8px 0; padding: 10px; border-radius: 8px; }
  .message.user { background: #007bff; color: white; margin-left: 20%; }
  .message.support { background: #28a745; color: white; margin-right: 20%; }
  .message.system { background: #ffc107; color: #333; text-align: center; font-style: italic; }
  
  .chat-form { display: flex; gap: 10px; }
  .chat-form input { flex: 1; margin: 0; }
  
  .profile-section { display: flex; align-items: center; gap: 20px; flex-wrap: wrap; }
  
  .profile-image { width: 120px; height: 120px; border-radius: 50%; border: 4px solid #007bff; object-fit: cover; background: #f8f9fa; display: flex; align-items: center; justify-content: center; color: #999; font-size: 14px; }
  
  .tips-display { margin-top: 20px; }
  
  .tip-card { background: #f8f9fa; border: 1px solid #e0e0e0; border-radius: 8px; padding: 15px; margin: 10px 0; }
  
  .tip-header { display: flex; justify-content: between; align-items: center; margin-bottom: 10px; }
  
  .tip-author { font-weight: 600; color: #007bff; }
  .tip-date { color: #666; font-size: 0.9em; }
  
  .media-preview { max-width: 100%; max-height: 200px; border-radius: 8px; margin: 10px 0; }
  
  .notification { padding: 12px; border-radius: 8px; margin: 10px 0; }
  .notification.success { background: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
  .notification.error { background: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
  
  .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 20px 0; }
  
  .stat-card { background: linear-gradient(45deg, #28a745, #20c997); color: white; padding: 20px; border-radius: 10px; text-align: center; }
  
  .stat-number { font-size: 2.5em; font-weight: bold; margin: 0; }
  .stat-label { margin: 5px 0 0 0; opacity: 0.9; }
  
  .tab-container { margin-bottom: 20px; }
  .tab-buttons { display: flex; border-bottom: 2px solid #e0e0e0; }
  .tab-button { padding: 12px 24px; border: none; background: none; cursor: pointer; font-size: 16px; color: #666; transition: all 0.3s ease; }
  .tab-button.active { color: #007bff; border-bottom: 2px solid #007bff; }
  .tab-content { display: none; }
  .tab-content.active { display: block; }

  @media (max-width: 768px) {
    .container { padding: 10px; }
    header h1 { font-size: 2em; }
    .profile-section { justify-content: center; }
    .chat-form { flex-direction: column; }
  }
</style>
</head>
<body>
<div class="container">
  <header>
    <h1>√ötil en 1</h1>
    <p>Tips y consejos en menos de 1 minuto</p>
    <div class="stats">
      <div class="stat-card">
        <div class="stat-number" id="tipCount">0</div>
        <div class="stat-label">Tips Compartidos</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="userCount">1</div>
        <div class="stat-label">Usuarios Activos</div>
      </div>
    </div>
  </header>

  <div class="section-card">
    <div class="tab-container">
      <div class="tab-buttons">
        <button class="tab-button active" onclick="switchTab('tips')">üìù Compartir Tips</button>
        <button class="tab-button" onclick="switchTab('chat')">üí¨ Soporte</button>
        <button class="tab-button" onclick="switchTab('profile')">üë§ Perfil</button>
      </div>
    </div>

    <!-- Secci√≥n de Tips -->
    <div id="tips" class="tab-content active">
      <h2>üöÄ Comparte tu Tip o Consejo</h2>
      <form id="tipForm">
        <div class="form-group">
          <label>Nombre:</label>
          <input type="text" id="nombreTip" placeholder="Tu nombre o d√©jalo vac√≠o para ser an√≥nimo" />
        </div>
        
        <div class="form-group">
          <label>Categor√≠a:</label>
          <select id="categoriaTip">
            <option value="general">General</option>
            <option value="tecnologia">Tecnolog√≠a</option>
            <option value="salud">Salud</option>
            <option value="finanzas">Finanzas</option>
            <option value="cocina">Cocina</option>
            <option value="productividad">Productividad</option>
            <option value="otro">Otro</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>Tu consejo:</label>
          <textarea id="textoTip" rows="4" placeholder="Comparte tu mejor consejo que se pueda aplicar en menos de 1 minuto..."></textarea>
        </div>
        
        <div class="form-group">
          <label>Archivo multimedia (opcional):</label>
          <input type="file" id="archivoTip" accept="image/*,video/*,audio/*" />
          <small style="color: #666;">Formatos: JPG, PNG, MP4, MP3, WAV</small>
        </div>
        
        <button type="submit" class="btn-primary">üì§ Compartir Tip</button>
      </form>
      
      <div id="tipResult"></div>
      
      <div class="tips-display">
        <h3>üí° Tips Recientes</h3>
        <div id="tipsContainer"></div>
      </div>
    </div>

    <!-- Secci√≥n de Chat -->
    <div id="chat-section" class="tab-content">
      <h2>üí¨ Atenci√≥n al Cliente</h2>
      <div id="chat"></div>
      <div class="chat-form">
        <input type="text" id="chatInput" placeholder="Escribe tu mensaje aqu√≠..." />
        <button onclick="sendMessage()" class="btn-primary">Enviar</button>
      </div>
      <div style="margin-top: 15px;">
        <button onclick="startVideoCall()" class="btn-secondary">üìπ Videollamada</button>
        <button onclick="requestCallback()" class="btn-secondary">üìû Solicitar Llamada</button>
      </div>
    </div>

    <!-- Secci√≥n de Perfil -->
    <div id="profile-section" class="tab-content">
      <h2>üë§ Tu Perfil</h2>
      <div class="profile-section">
        <div>
          <div class="profile-image" id="imgPerfil">Sin imagen</div>
        </div>
        <div style="flex: 1;">
          <form id="perfilForm">
            <div class="form-group">
              <label>Imagen de Perfil:</label>
              <input type="file" id="perfilImagen" accept="image/*" />
            </div>
            <div class="form-group">
              <label>Nombre:</label>
              <input type="text" id="nombrePerfil" placeholder="Tu nombre completo" />
            </div>
            <div class="form-group">
              <label>Bio:</label>
              <textarea id="bioPerfil" rows="3" placeholder="Cu√©ntanos sobre ti..."></textarea>
            </div>
            <button type="submit" class="btn-primary">üíæ Guardar Perfil</button>
            <button type="button" onclick="clearProfile()" class="btn-danger">üóëÔ∏è Limpiar</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// Variables globales
let tips = [];
let chatMessages = [];
let userProfile = {
  nombre: '',
  bio: '',
  imagen: null
};

// Inicializaci√≥n
document.addEventListener('DOMContentLoaded', function() {
  loadProfile();
  loadTips();
  loadChat();
  updateStats();
  
  // Event listeners
  document.getElementById('tipForm').addEventListener('submit', handleTipSubmit);
  document.getElementById('perfilForm').addEventListener('submit', handleProfileSubmit);
  document.getElementById('chatInput').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') sendMessage();
  });
});

// Funciones de navegaci√≥n
function switchTab(tabName) {
  // Ocultar todas las pesta√±as
  document.querySelectorAll('.tab-content').forEach(tab => {
    tab.classList.remove('active');
  });
  document.querySelectorAll('.tab-button').forEach(btn => {
    btn.classList.remove('active');
  });
  
  // Mostrar la pesta√±a seleccionada
  const targetMap = {
    'tips': 'tips',
    'chat': 'chat-section', 
    'profile': 'profile-section'
  };
  
  document.getElementById(targetMap[tabName]).classList.add('active');
  event.target.classList.add('active');
}

// Manejo de Tips
function handleTipSubmit(e) {
  e.preventDefault();
  
  const nombre = document.getElementById('nombreTip').value || 'An√≥nimo';
  const categoria = document.getElementById('categoriaTip').value;
  const texto = document.getElementById('textoTip').value;
  const archivo = document.getElementById('archivoTip').files[0];
  
  if (!texto && !archivo) {
    showNotification('Por favor, ingresa un consejo o carga un archivo.', 'error');
    return;
  }
  
  const tip = {
    id: Date.now(),
    autor: nombre,
    categoria: categoria,
    texto: texto,
    archivo: archivo,
    fecha: new Date().toLocaleString(),
    likes: 0
  };
  
  tips.unshift(tip);
  saveTips();
  displayTips();
  updateStats();
  
  // Limpiar formulario
  document.getElementById('tipForm').reset();
  
  showNotification('¬°Tip compartido exitosamente! üéâ', 'success');
}

function displayTips() {
  const container = document.getElementById('tipsContainer');
  
  if (tips.length === 0) {
    container.innerHTML = '<p style="text-align: center; color: #666;">No hay tips a√∫n. ¬°S√© el primero en compartir!</p>';
    return;
  }
  
  container.innerHTML = tips.map(tip => `
    <div class="tip-card">
      <div class="tip-header">
        <div>
          <span class="tip-author">${tip.autor}</span>
          <span class="tip-date">${tip.fecha}</span>
          <span style="background: #007bff; color: white; padding: 2px 8px; border-radius: 12px; font-size: 0.8em; margin-left: 10px;">${tip.categoria}</span>
        </div>
        <button onclick="likeTip(${tip.id})" style="background: none; border: none; cursor: pointer; font-size: 1.2em;">
          ‚ù§Ô∏è ${tip.likes}
        </button>
      </div>
      <div style="margin: 10px 0;">${tip.texto}</div>
      ${tip.archivo ? `<div>${getMediaPreview(tip.archivo)}</div>` : ''}
    </div>
  `).join('');
}

function getMediaPreview(file) {
  const url = URL.createObjectURL(file);
  
  if (file.type.startsWith('image/')) {
    return `<img src="${url}" class="media-preview" alt="Imagen del tip">`;
  } else if (file.type.startsWith('video/')) {
    return `<video src="${url}" class="media-preview" controls></video>`;
  } else if (file.type.startsWith('audio/')) {
    return `<audio src="${url}" controls style="width: 100%;"></audio>`;
  }
  
  return `<a href="${url}" download="${file.name}">üìé ${file.name}</a>`;
}

function likeTip(tipId) {
  const tip = tips.find(t => t.id === tipId);
  if (tip) {
    tip.likes++;
    saveTips();
    displayTips();
  }
}

// Manejo del Chat
function sendMessage() {
  const input = document.getElementById('chatInput');
  const message = input.value.trim();
  
  if (!message) return;
  
  addChatMessage(message, 'user');
  input.value = '';
  
  // Respuesta autom√°tica del soporte
  setTimeout(() => {
    const responses = [
      '¬°Hola! Gracias por contactarnos. ¬øEn qu√© puedo ayudarte?',
      'Entiendo tu consulta. Un agente te responder√° pronto.',
      'Estamos aqu√≠ para ayudarte. ¬øPodr√≠as darme m√°s detalles?',
      '¬°Perfecto! Estoy revisando tu solicitud.',
      'Gracias por la informaci√≥n. Te ayudo enseguida.'
    ];
    
    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
    addChatMessage(randomResponse, 'support');
  }, 1000 + Math.random() * 2000);
}

function addChatMessage(message, type) {
  const chat = document.getElementById('chat');
  const messageDiv = document.createElement('div');
  messageDiv.className = `message ${type}`;
  
  const time = new Date().toLocaleTimeString();
  const prefix = type === 'user' ? 'T√∫' : 'Soporte';
  
  messageDiv.innerHTML = `<strong>${prefix}</strong> (${time})<br>${message}`;
  
  chat.appendChild(messageDiv);
  chat.scrollTop = chat.scrollHeight;
  
  chatMessages.push({ message, type, time });
  saveChat();
}

function startVideoCall() {
  addChatMessage('Solicitud de videollamada iniciada. Un agente se conectar√° contigo pronto.', 'system');
  showNotification('üìπ Solicitud de videollamada enviada', 'success');
}

function requestCallback() {
  addChatMessage('Solicitud de llamada registrada. Te contactaremos en breve.', 'system');
  showNotification('üìû Solicitud de llamada enviada', 'success');
}

// Manejo del Perfil
function handleProfileSubmit(e) {
  e.preventDefault();
  
  const nombre = document.getElementById('nombrePerfil').value;
  const bio = document.getElementById('bioPerfil').value;
  const imagen = document.getElementById('perfilImagen').files[0];
  
  userProfile.nombre = nombre;
  userProfile.bio = bio;
  
  if (imagen) {
    const reader = new FileReader();
    reader.onload = function(e) {
      userProfile.imagen = e.target.result;
      updateProfileImage();
      saveProfile();
    };
    reader.readAsDataURL(imagen);
  } else {
    saveProfile();
  }
  
  showNotification('‚úÖ Perfil actualizado correctamente', 'success');
}

function updateProfileImage() {
  const img = document.getElementById('imgPerfil');
  if (userProfile.imagen) {
    img.innerHTML = `<img src="${userProfile.imagen}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">`;
  } else {
    img.innerHTML = 'Sin imagen';
  }
}

function clearProfile() {
  if (confirm('¬øEst√°s seguro de que quieres limpiar tu perfil?')) {
    userProfile = { nombre: '', bio: '', imagen: null };
    document.getElementById('perfilForm').reset();
    updateProfileImage();
    saveProfile();
    showNotification('üóëÔ∏è Perfil limpiado', 'success');
  }
}

// Funciones de almacenamiento (simulado)
function saveTips() {
  // En un entorno real, esto se enviar√≠a a un servidor
  console.log('Tips guardados:', tips);
}

function loadTips() {
  // Tips de ejemplo
  if (tips.length === 0) {
    tips = [
      {
        id: 1,
        autor: 'Mar√≠a',
        categoria: 'productividad',
        texto: 'Usa la t√©cnica Pomodoro: 25 minutos de trabajo concentrado, 5 minutos de descanso.',
        archivo: null,
        fecha: new Date().toLocaleString(),
        likes: 12
      },
      {
        id: 2,
        autor: 'Carlos',
        categoria: 'salud',
        texto: 'Bebe un vaso de agua nada m√°s levantarte para activar tu metabolismo.',
        archivo: null,
        fecha: new Date().toLocaleString(),
        likes: 8
      }
    ];
  }
  displayTips();
}

function saveProfile() {
  console.log('Perfil guardado:', userProfile);
}

function loadProfile() {
  updateProfileImage();
  if (userProfile.nombre) {
    document.getElementById('nombrePerfil').value = userProfile.nombre;
  }
  if (userProfile.bio) {
    document.getElementById('bioPerfil').value = userProfile.bio;
  }
}

function saveChat() {
  console.log('Chat guardado:', chatMessages);
}

function loadChat() {
  if (chatMessages.length === 0) {
    addChatMessage('¬°Bienvenido al chat de soporte! ¬øEn qu√© podemos ayudarte hoy?', 'system');
  }
}

function updateStats() {
  document.getElementById('tipCount').textContent = tips.length;
  document.getElementById('userCount').textContent = Math.floor(Math.random() * 50) + 1;
}

function showNotification(message, type) {
  const resultDiv = document.getElementById('tipResult');
  resultDiv.innerHTML = `<div class="notification ${type}">${message}</div>`;
  
  setTimeout(() => {
    resultDiv.innerHTML = '';
  }, 5000);
}
</script>
</body>
</html>
